
var jeuW;
var jeuH;
var canvas = document.getElementById("Game");
var ctx = canvas.getContext("2d");
var taille;

window.onresize = function () {
    this.resize();
}
function resize() {
    var w = window.innerWidth;
    var h = window.innerHeight;
    ratio = 280 / 450;
    document.getElementById('Game').width = h * (280 / 450);
    jeuW = h * (280 / 450)
    document.getElementById('Game').height = h;
    jeuH = h;
    console.log(document.getElementById('Game').offsetHeight + " " + document.getElementById('Game').offsetWidth)
    taille = jeuH / 45;
    drawMap();
}

var tab =
    [["2", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "5", "2", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "5"],
    ["0", "9", "9", "9", "9", "9", "7", "9", "9", "9", "9", "9", "9", "0", "0", "9", "9", "9", "9", "9", "9", "7", "9", "9", "9", "9", "9", "0"],
    ["0", "9", "2", "1", "1", "5", "9", "2", "1", "1", "1", "5", "9", "0", "0", "9", "2", "1", "1", "1", "5", "9", "2", "1", "1", "5", "9", "0"],
    ["0", "10", "0", "6", "6", "0", "9", "0", "6", "6", "6", "0", "9", "0", "0", "9", "0", "6", "6", "6", "0", "9", "0", "6", "6", "0", "10", "0"],
    ["0", "9", "3", "1", "1", "4", "9", "3", "1", "1", "1", "4", "9", "3", "4", "9", "3", "1", "1", "1", "4", "9", "3", "1", "1", "4", "9", "0"],
    ["0", "7", "9", "9", "9", "9", "7", "9", "9", "7", "9", "9", "7", "9", "9", "7", "9", "9", "7", "9", "9", "7", "9", "9", "9", "9", "7", "0"],
    ["0", "9", "2", "1", "1", "5", "9", "2", "5", "9", "2", "1", "1", "1", "1", "1", "1", "5", "9", "2", "5", "9", "2", "1", "1", "5", "9", "0"],
    ["0", "9", "3", "1", "1", "4", "9", "0", "0", "9", "3", "1", "1", "5", "2", "1", "1", "4", "9", "0", "0", "9", "3", "1", "1", "4", "9", "0"],
    ["0", "9", "9", "9", "9", "9", "7", "0", "0", "9", "9", "9", "9", "0", "0", "9", "9", "9", "9", "0", "0", "7", "9", "9", "9", "9", "9", "0"],
    ["3", "1", "1", "1", "1", "5", "9", "0", "3", "1", "1", "5", "6", "0", "0", "6", "2", "1", "1", "4", "0", "9", "2", "1", "1", "1", "1", "4"],
    ["6", "6", "6", "6", "6", "0", "9", "0", "2", "1", "1", "4", "6", "3", "4", "6", "3", "1", "1", "5", "0", "9", "0", "6", "6", "6", "6", "6"],
    ["6", "6", "6", "6", "6", "0", "9", "0", "0", "6", "6", "6", "8", "6", "6", "8", "6", "6", "6", "0", "0", "9", "0", "6", "6", "6", "6", "6"],
    ["6", "6", "6", "6", "6", "0", "9", "0", "0", "6", "2", "1", "1", "1", "1", "1", "1", "5", "6", "0", "0", "9", "0", "6", "6", "6", "6", "6"],
    ["1", "1", "1", "1", "1", "4", "9", "3", "4", "6", "0", "6", "6", "6", "6", "6", "6", "0", "6", "3", "4", "9", "3", "1", "1", "1", "1", "1"],
    ["6", "6", "6", "6", "6", "6", "7", "6", "6", "8", "0", "6", "6", "6", "6", "6", "6", "0", "8", "6", "6", "7", "6", "6", "6", "6", "6", "6"],
    ["1", "1", "1", "1", "1", "5", "9", "2", "5", "6", "0", "6", "6", "6", "6", "6", "6", "0", "6", "2", "5", "9", "2", "1", "1", "1", "1", "1"],
    ["6", "6", "6", "6", "6", "0", "9", "0", "0", "6", "3", "1", "1", "1", "1", "1", "1", "4", "6", "0", "0", "9", "0", "6", "6", "6", "6", "6"],
    ["6", "6", "6", "6", "6", "0", "9", "0", "0", "8", "6", "6", "6", "6", "6", "6", "6", "6", "8", "0", "0", "9", "0", "6", "6", "6", "6", "6"],
    ["6", "6", "6", "6", "6", "0", "9", "0", "0", "6", "2", "1", "1", "1", "1", "1", "1", "5", "6", "0", "0", "9", "0", "6", "6", "6", "6", "6"],
    ["2", "1", "1", "1", "1", "4", "9", "3", "4", "6", "3", "1", "1", "5", "2", "1", "1", "4", "6", "3", "4", "9", "3", "1", "1", "1", "1", "5"],
    ["0", "9", "9", "9", "9", "9", "7", "9", "9", "7", "9", "9", "9", "0", "0", "9", "9", "9", "7", "9", "9", "7", "9", "9", "9", "9", "9", "0"],
    ["0", "9", "2", "1", "1", "5", "9", "2", "1", "1", "1", "5", "9", "0", "0", "9", "2", "1", "1", "1", "5", "9", "2", "1", "1", "5", "9", "0"],
    ["0", "9", "3", "1", "5", "0", "9", "3", "1", "1", "1", "4", "9", "3", "4", "9", "3", "1", "1", "1", "4", "9", "0", "2", "1", "4", "9", "0"],
    ["0", "10", "9", "9", "0", "0", "7", "9", "9", "7", "9", "9", "7", "6", "6", "7", "9", "9", "7", "9", "9", "9", "0", "0", "9", "9", "10", "0"],
    ["3", "1", "5", "9", "0", "0", "9", "2", "5", "9", "2", "1", "1", "1", "1", "1", "1", "5", "9", "2", "5", "9", "0", "0", "9", "2", "1", "4"],
    ["2", "1", "4", "9", "3", "4", "9", "0", "0", "9", "3", "1", "1", "5", "2", "1", "1", "4", "9", "0", "0", "9", "3", "4", "9", "3", "1", "5"],
    ["0", "9", "9", "7", "9", "9", "9", "0", "0", "9", "9", "9", "9", "0", "0", "9", "9", "9", "9", "0", "0", "9", "9", "9", "7", "9", "9", "0"],
    ["0", "9", "2", "1", "1", "1", "1", "4", "3", "1", "1", "5", "9", "0", "0", "9", "2", "1", "1", "4", "3", "1", "1", "1", "1", "5", "9", "0"],
    ["0", "9", "3", "1", "1", "1", "1", "1", "1", "1", "1", "4", "9", "3", "4", "9", "3", "1", "1", "1", "1", "1", "1", "1", "1", "4", "9", "0"],
    ["0", "9", "9", "9", "9", "9", "9", "9", "9", "9", "9", "9", "7", "9", "9", "7", "9", "9", "9", "9", "9", "9", "9", "9", "9", "9", "9", "0"],
    ["3", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "4"]];

function draw() {

}
function drawMap() {
    /*
    '0':vertical 
    '1':horizontal 
    '2':angle bas-droit 
    '3':angle droit-haut 
    '4':angle haut-gauche  
    '5':angle gauche-bas
    '6':vide
    '7'case de choix de direction pour fantome
    */
    for (var i = 0; i < 28; i++) {
        for (var j = 0; j < 31; j++) {
            switch (tab[j][i]) {
                case '0'://vertical
                    ctx.beginPath();
                    ctx.rect(i * taille + taille / 4, j * taille, taille / 2, taille);
                    ctx.fillStyle = "#0002ff";
                    ctx.fill();
                    ctx.closePath();
                    break;
                case '1'://horizontal
                    ctx.beginPath();
                    ctx.rect(i * taille, j * taille + taille / 4, taille, taille / 2);
                    ctx.fillStyle = "#0002ff";
                    ctx.fill();
                    ctx.closePath();
                    break;
                case '2': //angle bas-droit
                    ctx.beginPath();
                    ctx.rect(i * taille + taille / 4, j * taille + taille / 4, taille / 2, taille * (3 / 4));
                    ctx.rect(i * taille + taille / 4, j * taille + taille / 4, taille * (3 / 4), taille / 2);
                    ctx.fillStyle = "#0002ff";
                    ctx.fill();
                    ctx.closePath();
                    break;
                case '3': //angle droit-haut
                    ctx.beginPath();
                    ctx.rect(i * taille + taille / 4, j * taille, taille / 2, taille * (3 / 4));
                    ctx.rect(i * taille + taille / 4, j * taille + taille / 4, taille * (3 / 4), taille / 2);

                    ctx.fillStyle = "#0002ff";
                    ctx.fill();
                    ctx.closePath();
                    break;
                case '4': //angle haut-gauche
                    ctx.beginPath();
                    ctx.rect(i * taille + taille / 4, j * taille, taille / 2, taille * (3 / 4));
                    ctx.rect(i * taille, j * taille + taille / 4, taille * (3 / 4), taille / 2);
                    ctx.fillStyle = "#0002ff";
                    ctx.fill();
                    ctx.closePath();
                    break;
                case '5': //angle gauche-bas
                    ctx.beginPath();
                    ctx.rect(i * taille + taille / 4, j * taille + taille / 4, taille / 2, taille * (3 / 4));
                    ctx.rect(i * taille, j * taille + taille / 4, taille * (3 / 4), taille / 2);
                    ctx.fillStyle = "#0002ff";
                    ctx.fill();
                    ctx.closePath();
                    break;
            }

        }
    }
}
resize();

setInterval(function () { draw() }, 10);